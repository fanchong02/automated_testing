<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è‡ªåŠ¨åŒ–æµ‹è¯•</title>
  <style>
    input {
      display: block;
      width: 300px;
      height: 20px;
      margin: 10px 0;
    }

    textarea {
      width: 300px;
      height: 100px;
      overflow-y: auto;
      display: block;
    }
  </style>
</head>

<body>
  <label for="name">
    å§“åï¼š<input id="name" type="text" class="name" placeholder="è¯·è¾“å…¥å§“åï¼Œåšå¤š20ä¸ªå­—ç¬¦" />
  </label>
  <label for="age">
    å¹´é¾„ï¼š <input id="age" type="text" class="age" placeholder="è¯·è¾“å…¥å¹´é¾„ï¼Œæ­£æ•´æ•°" />
  </label>
  <label for="desc">
    ä¸ªäººä»‹ç»ï¼š <textarea id="desc" cols="5" class="desc" placeholder="è¯·è¾“å…¥ä¸ªäººä»‹ç»ï¼Œåšå¤š100å­—ç¬¦"></textarea>
  </label>

  <button type="button">æäº¤</button>
  <div class="result">
    æ ¡éªŒç»“æœï¼š
    <div class="log"></div>
  </div>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script>
    function errorLog(log) {
      $('.log').append('<p style="color: red;">' + log + '</p>');
    }

    function successLog(log) {
      $('.log').append('<p style="color: green;">' + log + '</p>');
    }
    $('button').on('click', function () {
      var name = $('.name').val();
      var age = $('.age').val();
      var desc = $('.desc').val();
      $('.log').html('');
      if (!name) {
        return errorLog('å§“åï¼šè¯·å¡«å†™å§“åğŸ˜³');
      } else if (name.length > 20) {
        return errorLog('å§“åï¼šå§“åé•¿åº¦éœ€å°äº20ä¸ªå­—ç¬¦ğŸ˜³');
      } else {
        successLog('å§“åï¼šæ ¡éªŒé€šè¿‡ğŸ˜¬');
      }
      if (!/^[1-9]\d*$/.test(age)) {
        return errorLog('å¹´é¾„ï¼šè¯·å¡«å†™å¹´é¾„,éœ€ä¸ºæ­£æ•´æ•°ğŸ˜³');
      } else if (age > 1000) {
        return errorLog('å¹´é¾„ï¼šå¹´é¾„ä¸èƒ½è¶…è¿‡1000å²ğŸ˜³');
      } else {
        successLog('å¹´é¾„ï¼šæ ¡éªŒé€šè¿‡ğŸ˜¬');
      }
      if (!desc) {
        return errorLog('ä¸ªäººä»‹ç»ï¼šè¯·å¡«å†™ä¸ªäººä»‹ç»ğŸ˜³');
      } else if (desc.length > 100) {
        return errorLog('ä¸ªäººä»‹ç»ï¼šä¸ªäººä»‹ç»ä¸èƒ½è¶…è¿‡100ä¸ªå­—ç¬¦ğŸ˜³');
      } else {
        successLog('ä¸ªäººä»‹ç»ï¼šé€šè¿‡æ ¡éªŒğŸ˜¬');
      }
      var data = {
        name,
        age,
        desc
      };
      successLog('é€šè¿‡æ ¡éªŒï¼Œæäº¤æ•°æ®ï¼š' + JSON.stringify(data));
      // alert('é€šè¿‡æ ¡éªŒï¼Œæäº¤æ•°æ®ï¼š'+JSON.stringify(data));
    })
  </script>
</body>

</html>